namespace VBF.MiniSharp

{

    public class ArrayType : TypeBase

    {

        public static readonly ArrayType IntArray = new ArrayType() { Name = "int[]", ElementType = PrimaryType.Int };

        public static readonly ArrayType StrArray = new ArrayType() { Name = "string[]", ElementType = PrimaryType.String };

        public TypeBase ElementType { get; set; }



        public override bool IsAssignableFrom(TypeBase type)

        {

            CodeClassType elementClassType = ElementType as CodeClassType;

            ArrayType arrayType = type as ArrayType;



            if (elementClassType != null && arrayType != null)

            {

                return elementClassType.IsAssignableFrom(arrayType.ElementType);

            }



            return false;

        }

    }

}
